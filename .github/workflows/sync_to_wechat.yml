# GitHub Action: Sync new articles from GitHub Issues to WeChat Official Account (Final Verified Action)

name: Sync to WeChat Official Account

on:
  issues:
    types: [labeled]

jobs:
  sync:
    if: github.event.label.name == 'Publish'
    runs-on: ubuntu-latest
    steps:
      - name: Sync to WeChat Official Account MP
        # 使用经过最终验证的、当前活跃的 Action
        # Repository: https://github.com/Ikaros-521/issues-to-wechat-mp
        uses: Ikaros-521/issues-to-wechat-mp@v1.2
        with:
          app_id: ${{ secrets.WECHAT_APPID }}
          app_secret: ${{ secrets.WECHAT_APPSECRET }}
          thumb_media_id: ${{ secrets.WECHAT_THUMB_MEDIA_ID }}
          issue_number: ${{ github.event.issue.number }}
          github_token: ${{ secrets.GITHUB_TOKEN }}
